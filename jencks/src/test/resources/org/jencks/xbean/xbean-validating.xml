<?xml version="1.0" encoding="UTF-8"?>

<!-- START SNIPPET: spring -->
<s:beans xmlns:s="http://www.springframework.org/schema/beans" xmlns="http://jencks.org/1.2" xmlns:amqra="http://activemq.org/ra/1.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd 
  http://activemq.org/ra/1.0 http://people.apache.org/repository/org.apache.activemq/xsds/activemq-ra-4.1-incubator-SNAPSHOT.xsd
  http://jencks.org/1.2 http://snapshots.repository.codehaus.org/org/jencks/jencks/1.3-SNAPSHOT/jencks-1.3-20060801.110529-4.xsd">
  
  <!-- JCA Container -->
  <jcaContainer>

    <bootstrapContext>
      <bootstrapContextFactory threadPoolSize="25" />
    </bootstrapContext>

    <connectors>
      <connector ref="echoBean">
        <activationSpec>
          <amqra:activationSpec destination="test.spring.inboundConnectorA" destinationType="javax.jms.Topic" />
        </activationSpec>
      </connector>

      <connector ref="echoBean">
        <activationSpec>
          <amqra:activationSpec destination="test.spring.inboundConnectorB" destinationType="javax.jms.Queue" />
        </activationSpec>
      </connector>

    </connectors>
    
    <resourceAdapter>
      <amqra:resourceAdapter serverUrl="tcp://localhost:51616" />
    </resourceAdapter>
  </jcaContainer>

  <!-- Message Driven POJO -->
  <s:bean id="echoBean" class="org.jencks.TestBean" singleton="true" />

  <!-- ActiveMQ Broker -->
  <s:bean id="broker" class="org.apache.activemq.xbean.BrokerFactoryBean">
    <s:property name="config" value="classpath:org/jencks/broker.xml" />
  </s:bean>

</s:beans>
<!-- END SNIPPET: spring -->

