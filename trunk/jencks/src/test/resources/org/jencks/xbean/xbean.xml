<?xml version="1.0" encoding="UTF-8"?>

<!-- START SNIPPET: spring -->
<beans xmlns:amqra="http://activemq.org/ra/1.0">

  <!-- JCA Container -->
  <jcaContainer xmlns="http://jencks.org/1.2">

    <bootstrapContext>
      <bootstrapContextFactory threadPoolSize="25" />
    </bootstrapContext>
    
    <resourceAdapter>
      <amqra:resourceAdapter serverUrl="tcp://localhost:51616" />
    </resourceAdapter>


    <connectors>
      <connector ref="echoBean">
        <activationSpec>
          <amqra:activationSpec destination="test.spring.inboundConnectorA" destinationType="javax.jms.Topic" />
        </activationSpec>
      </connector>

      <connector ref="echoBean">
        <activationSpec>
          <amqra:activationSpec destination="test.spring.inboundConnectorB" destinationType="javax.jms.Queue" />
        </activationSpec>
      </connector>

    </connectors>
  </jcaContainer>

  <!-- Message Driven POJO -->
  <bean id="echoBean" class="org.jencks.TestBean" singleton="true" />

  <!-- ActiveMQ Broker -->
  <bean id="broker" class="org.apache.activemq.xbean.BrokerFactoryBean">
    <property name="config" value="classpath:org/jencks/broker.xml" />
  </bean>

</beans>
<!-- END SNIPPET: spring -->

